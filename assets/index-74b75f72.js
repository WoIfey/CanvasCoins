(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&_(h)}).observe(document,{childList:!0,subtree:!0});function c(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function _(o){if(o.ep)return;o.ep=!0;const n=c(o);fetch(o.href,n)}})();var r={};Object.defineProperty(r,"__esModule",{value:!0});var d=r.Keys=r.MouseButtons=void 0;class M{constructor(e){this.mousePosition={x:0,y:0},this._canvasScale=1,this._state=new Set,this._previousState=new Set,this._toAdd=new Set,this._toRemove=new Set,this._canvas=e,this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onMouseMove=this._onMouseMove.bind(this),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),window.addEventListener("mousedown",this._onMouseDown),window.addEventListener("mouseup",this._onMouseUp),window.addEventListener("mousemove",this._onMouseMove)}setCanvasScale(e){this.mousePosition.x*=this._canvasScale,this.mousePosition.y*=this._canvasScale,this._canvasScale=e,this.mousePosition.x/=this._canvasScale,this.mousePosition.y/=this._canvasScale}getCanvasScale(){return this._canvasScale}getKey(e){return this._state.has(e)}getKeyDown(e){return this._state.has(e)&&!this._previousState.has(e)}getKeyUp(e){return!this._state.has(e)&&this._previousState.has(e)}getMouseButton(e){return this._state.has(e)}getMouseButtonDown(e){return this._state.has(e)&&!this._previousState.has(e)}getMouseButtonUp(e){return!this._state.has(e)&&this._previousState.has(e)}update(){this._copyStateIntoPrevious(),this._handleRemove(),this._handleAdd()}_onKeyDown(e){this._toAdd.add(e.key.toUpperCase())}_onKeyUp(e){this._toRemove.add(e.key.toUpperCase())}_onMouseDown(e){this._toAdd.add(this._getMouseButtonName(e.button))}_onMouseUp(e){this._toRemove.add(this._getMouseButtonName(e.button))}_onMouseMove(e){const c=this._canvas.getBoundingClientRect();this.mousePosition.x=(e.clientX-c.left)/this._canvasScale,this.mousePosition.y=(e.clientY-c.top)/this._canvasScale}_getMouseButtonName(e){return`MOUSEBUTTON${e}`}_copyStateIntoPrevious(){this._previousState.clear();for(let e of this._state)this._previousState.add(e)}_handleRemove(){for(let e of this._toRemove)this._toAdd.has(e)||(this._state.delete(e),this._toRemove.delete(e))}_handleAdd(){for(let e of this._toAdd)this._state.add(e);this._toAdd.clear()}}var A=r.default=M,f;(function(t){t.Left="MOUSEBUTTON0",t.Middle="MOUSEBUTTON1",t.Right="MOUSEBUTTON2"})(f||(r.MouseButtons=f={}));var p;(function(t){t.Tab="TAB",t.Enter="ENTER",t.Shift="SHIFT",t.Control="CONTROL",t.Alt="ALT",t.Space=" ",t.LeftArrow="ARROWLEFT",t.UpArrow="ARROWUP",t.RightArrow="ARROWRIGHT",t.DownArrow="ARROWDOWN",t.Digit0="0",t.Digit1="1",t.Digit2="2",t.Digit4="3",t.Digit3="4",t.Digit5="5",t.Digit6="6",t.Digit7="7",t.Digit8="8",t.Digit9="9",t.A="A",t.B="B",t.C="C",t.D="D",t.E="E",t.F="F",t.G="G",t.H="H",t.I="I",t.J="J",t.K="K",t.L="L",t.M="M",t.N="N",t.O="O",t.P="P",t.Q="Q",t.R="R",t.S="S",t.T="T",t.U="U",t.V="V",t.W="W",t.X="X",t.Y="Y",t.Z="Z"})(p||(d=r.Keys=p={}));const D="/CoinGame/assets/collect-7fbcc79f.mp3",R="/CoinGame/assets/coin-c78a81b0.svg",s=document.createElement("canvas");var v;(v=document.querySelector("#app"))==null||v.append(s);const a=s.getContext("2d");s.width=800;s.height=600;const g=new Image;g.src=R;const O=new Audio(D),u=new A(s),l=[],i={x:s.width/2,y:s.height/2,speed:7,radius:20};function m(){const t={x:Math.random()*s.width,y:Math.random()*s.height,radius:20,collected:!1};l.push(t)}let w=0;function U(){i.y-i.radius<=0&&(i.y=i.radius),i.x+i.radius>=s.width&&(i.x=s.width-i.radius),i.y+i.radius>=s.height&&(i.y=s.height-i.radius),i.x-i.radius<=0&&(i.x=i.radius),u.getKey(d.W)&&(i.y-=i.speed),u.getKey(d.S)&&(i.y+=i.speed),u.getKey(d.A)&&(i.x-=i.speed),u.getKey(d.D)&&(i.x+=i.speed);for(const t of l)!t.collected&&Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2)<i.radius+t.radius&&(O.play(),t.collected=!0,m(),w++)}function x(){a.clearRect(0,0,s.width,s.height);for(const t of l)t.collected||(a.beginPath(),a.drawImage(g,t.x-t.radius,t.y-t.radius,t.radius*2,t.radius*2),a.closePath(),a.fillStyle="orange",a.fill());a.fillStyle="red",a.fillRect(i.x-i.radius,i.y-i.radius,i.radius*2,i.radius*2),a.fillStyle="black",a.font="28px serif",a.fillText("ðŸª™ "+w,20,40,500)}function S(){requestAnimationFrame(S),u.update(),U(),x()}m();requestAnimationFrame(S);
